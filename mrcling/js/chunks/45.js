(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{1685:function(e,t,a){"use strict";a.r(t);var n=a(417),l=a(20),r=a.n(l),i={ADD_EVENT:function(e,t){e.events.push(t)},SET_EVENTS:function(e,t){e.events=t},SET_LABELS:function(e,t){e.eventLabels=t},UPDATE_EVENT:function(e,t){var a=e.events.findIndex((function(e){return e.id===t.id}));r()(e.events[a],t)},REMOVE_EVENT:function(e,t){var a=e.events.findIndex((function(e){return e.id===t}));e.events.splice(a,1)}},s=a(10),d=a.n(s),c=a(15),o={namespaced:!0,state:{eventLabels:[],events:[]},mutations:i,actions:{addEvent:function(e,t){var a=e.commit;return new d.a((function(e,n){c.a.post("/api/apps/calendar/events/",{event:t}).then((function(n){a("ADD_EVENT",r()(t,{id:n.data.id})),e(n)})).catch((function(e){n(e)}))}))},fetchEvents:function(e){var t=e.commit;return new d.a((function(e,a){c.a.get("/api/apps/calendar/events").then((function(a){t("SET_EVENTS",a.data),e(a)})).catch((function(e){a(e)}))}))},fetchEventLabels:function(e){var t=e.commit;return new d.a((function(e,a){c.a.get("/api/apps/calendar/labels").then((function(a){t("SET_LABELS",a.data),e(a)})).catch((function(e){a(e)}))}))},editEvent:function(e,t){var a=e.commit;return new d.a((function(e,n){c.a.post("/api/apps/calendar/event/".concat(t.id),{event:t}).then((function(t){var n=t.data;n.startDate=new Date(n.startDate),n.endDate=new Date(n.endDate),a("UPDATE_EVENT",n),e(t)})).catch((function(e){n(e)}))}))},removeEvent:function(e,t){var a=e.commit;return new d.a((function(e,n){c.a.delete("/api/apps/calendar/event/".concat(t)).then((function(t){a("REMOVE_EVENT",t.data),e(t)})).catch((function(e){n(e)}))}))},eventDragged:function(e,t){var a=e.commit;return new d.a((function(e,n){c.a.post("/api/apps/calendar/event/dragged/".concat(t.event.id),{payload:t}).then((function(t){var n=t.data;n.startDate=new Date(n.startDate),n.endDate=new Date(n.endDate),a("UPDATE_EVENT",n),e(t)})).catch((function(e){n(e)}))}))}},getters:{getEvent:function(e){return function(t){return e.events.find((function(e){return e.id===t}))}}}},v=a(32),u=a(136);a(816);var p={components:{CalendarView:n.CalendarView,CalendarViewHeader:n.CalendarViewHeader,Datepicker:v.a},data:function(){return{showDate:new Date,disabledFrom:!1,id:0,title:"",startDate:"",endDate:"",labelLocal:"none",langHe:u.he,langEn:u.en,url:"",calendarView:"month",activePromptAddEvent:!1,activePromptEditEvent:!1,calendarViewTypes:[{label:"Month",val:"month"},{label:"Week",val:"week"},{label:"Year",val:"year"}]}},computed:{simpleCalendarEvents:function(){return this.$store.state.calendar.events},validForm:function(){return""!==this.title&&""!==this.startDate&&""!==this.endDate&&Date.parse(this.endDate)-Date.parse(this.startDate)>=0&&!this.errors.has("event-url")},disabledDatesTo:function(){return{to:new Date(this.startDate)}},disabledDatesFrom:function(){return{from:new Date(this.endDate)}},calendarLabels:function(){return this.$store.state.calendar.eventLabels},labelColor:function(){return function(e){return"business"===e?"success":"work"===e?"warning":"personal"===e?"danger":"none"===e?"primary":void 0}},windowWidth:function(){return this.$store.state.windowWidth}},methods:{addEvent:function(){var e={title:this.title,startDate:this.startDate,endDate:this.endDate,label:this.labelLocal,url:this.url};e.classes="event-".concat(this.labelColor(this.labelLocal)),this.$store.dispatch("calendar/addEvent",e)},updateMonth:function(e){this.showDate=this.$refs.calendar.getIncrementedPeriod(e)},clearFields:function(){this.title=this.endDate=this.url="",this.id=0,this.labelLocal="none"},promptAddNewEvent:function(e){this.disabledFrom=!1,this.addNewEventDialog(e)},addNewEventDialog:function(e){this.clearFields(),this.startDate=e,this.endDate=e,this.activePromptAddEvent=!0},openAddNewEvent:function(e){this.disabledFrom=!0,this.addNewEventDialog(e)},openEditEvent:function(e){var t=this.$store.getters["calendar/getEvent"](e.id);this.id=t.id,this.title=t.title,this.startDate=t.startDate,this.endDate=t.endDate,this.url=t.url,this.labelLocal=t.label,this.activePromptEditEvent=!0},editEvent:function(){var e={id:this.id,title:this.title,startDate:this.startDate,endDate:this.endDate,label:this.labelLocal,url:this.url};e.classes="event-".concat(this.labelColor(this.labelLocal)),this.$store.dispatch("calendar/editEvent",e)},removeEvent:function(){this.$store.dispatch("calendar/removeEvent",this.id)},eventDragged:function(e,t){this.$store.dispatch("calendar/eventDragged",{event:e,date:t})}},created:function(){this.$store.registerModule("calendar",o),this.$store.dispatch("calendar/fetchEvents"),this.$store.dispatch("calendar/fetchEventLabels")},beforeDestroy:function(){this.$store.unregisterModule("calendar")}},m=(a(818),a(0)),h=Object(m.a)(p,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"simple-calendar-app"}},[a("div",{staticClass:"vx-card no-scroll-content"},[a("calendar-view",{ref:"calendar",staticClass:"theme-default",attrs:{displayPeriodUom:e.calendarView,"show-date":e.showDate,events:e.simpleCalendarEvents,enableDragDrop:"",eventTop:e.windowWidth<=400?"2rem":"3rem",eventBorderHeight:"0px",eventContentHeight:"1.65rem"},on:{"click-date":e.openAddNewEvent,"click-event":e.openEditEvent,"drop-on-date":e.eventDragged}},[a("div",{staticClass:"mb-4",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"vx-row no-gutter"},[a("div",{staticClass:"vx-col w-1/3 items-center sm:flex hidden"},[a("vs-button",{attrs:{"icon-pack":"feather",icon:"icon-plus"},on:{click:function(t){e.promptAddNewEvent(new Date)}}},[e._v("Add")])],1),e._v(" "),a("div",{staticClass:"vx-col sm:w-1/3 w-full sm:my-0 my-3 flex sm:justify-end justify-center order-last"},[a("div",{staticClass:"flex items-center"},[a("feather-icon",{staticClass:"cursor-pointer bg-primary text-white rounded-full",attrs:{icon:e.$vs.rtl?"ChevronRightIcon":"ChevronLeftIcon",svgClasses:"w-5 h-5 m-1"},on:{click:function(t){return e.updateMonth(-1)}}}),e._v(" "),a("span",{staticClass:"mx-3 text-xl font-medium whitespace-no-wrap"},[e._v(e._s(e._f("month")(e.showDate)))]),e._v(" "),a("feather-icon",{staticClass:"cursor-pointer bg-primary text-white rounded-full",attrs:{icon:e.$vs.rtl?"ChevronLeftIcon":"ChevronRightIcon",svgClasses:"w-5 h-5 m-1"},on:{click:function(t){return e.updateMonth(1)}}})],1)]),e._v(" "),a("div",{staticClass:"vx-col sm:w-1/3 w-full flex justify-center"},[e._l(e.calendarViewTypes,(function(t,n){return[e.calendarView===t.val?a("vs-button",{key:String(t.val)+"filled",staticClass:"p-3 md:px-8 md:py-3",class:{"border-l-0 rounded-l-none":n,"rounded-r-none":e.calendarViewTypes.length!==n+1},attrs:{type:"filled"},on:{click:function(a){e.calendarView=t.val}}},[e._v(e._s(t.label))]):a("vs-button",{key:String(t.val)+"border",staticClass:"p-3 md:px-8 md:py-3",class:{"border-l-0 rounded-l-none":n,"rounded-r-none":e.calendarViewTypes.length!==n+1},attrs:{type:"border"},on:{click:function(a){e.calendarView=t.val}}},[e._v(e._s(t.label))])]}))],2)]),e._v(" "),a("div",{staticClass:"vx-row sm:flex hidden mt-4"},[a("div",{staticClass:"vx-col w-full flex"},[a("div",{staticClass:"flex flex-wrap sm:justify-start justify-center"},[e._l(e.calendarLabels,(function(t,n){return a("div",{key:n,staticClass:"flex items-center mr-4 mb-2"},[a("div",{staticClass:"h-3 w-3 inline-block rounded-full mr-2",class:"bg-"+t.color}),e._v(" "),a("span",[e._v(e._s(t.text))])])})),e._v(" "),a("div",{staticClass:"flex items-center mr-4 mb-2"},[a("div",{staticClass:"h-3 w-3 inline-block rounded-full mr-2 bg-primary"}),e._v(" "),a("span",[e._v("None")])])],2)])])])])],1),e._v(" "),a("vs-prompt",{staticClass:"calendar-event-dialog",attrs:{title:"Add Event","accept-text":"Add Event","is-valid":e.validForm,active:e.activePromptAddEvent},on:{accept:e.addEvent,"update:active":function(t){e.activePromptAddEvent=t}}},[a("div",{staticClass:"calendar__label-container flex"},["none"!=e.labelLocal?a("vs-chip",{staticClass:"text-white",class:"bg-"+e.labelColor(e.labelLocal)},[e._v(e._s(e.labelLocal))]):e._e(),e._v(" "),a("vs-dropdown",{staticClass:"ml-auto my-2 cursor-pointer",attrs:{"vs-custom-content":"","vs-trigger-click":""}},[a("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"TagIcon",svgClasses:"h-5 w-5"},on:{click:function(e){e.preventDefault()}}}),e._v(" "),a("vs-dropdown-menu",{staticStyle:{"z-index":"200001"}},[e._l(e.calendarLabels,(function(t,n){return a("vs-dropdown-item",{key:n,on:{click:function(a){e.labelLocal=t.value}}},[a("div",{staticClass:"h-3 w-3 inline-block rounded-full mr-2",class:"bg-"+t.color}),e._v(" "),a("span",[e._v(e._s(t.text))])])})),e._v(" "),a("vs-dropdown-item",{on:{click:function(t){e.labelLocal="none"}}},[a("div",{staticClass:"h-3 w-3 mr-1 inline-block rounded-full mr-2 bg-primary"}),e._v(" "),a("span",[e._v("None")])])],2)],1)],1),e._v(" "),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"event-name","label-placeholder":"Event Title"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),e._v(" "),a("div",{staticClass:"my-4"},[a("small",{staticClass:"date-label"},[e._v("Start Date")]),e._v(" "),a("datepicker",{attrs:{language:e.$vs.rtl?e.langHe:e.langEn,name:"start-date",disabled:e.disabledFrom},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}})],1),e._v(" "),a("div",{staticClass:"my-4"},[a("small",{staticClass:"date-label"},[e._v("End Date")]),e._v(" "),a("datepicker",{attrs:{language:e.$vs.rtl?e.langHe:e.langEn,disabledDates:e.disabledDatesTo,name:"end-date"},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}})],1),e._v(" "),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"url",expression:"'url'"}],staticClass:"w-full mt-6",attrs:{name:"event-url","label-placeholder":"Event URL",color:e.errors.has("event-url")?"danger":"success"},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}})],1),e._v(" "),a("vs-prompt",{staticClass:"calendar-event-dialog",attrs:{title:"Edit Event","accept-text":"Submit","cancel-text":"Remove","button-cancel":"border","is-valid":e.validForm,active:e.activePromptEditEvent},on:{cancel:e.removeEvent,accept:e.editEvent,"update:active":function(t){e.activePromptEditEvent=t}}},[a("div",{staticClass:"calendar__label-container flex"},["none"!=e.labelLocal?a("vs-chip",{staticClass:"text-white",class:"bg-"+e.labelColor(e.labelLocal)},[e._v(e._s(e.labelLocal))]):e._e(),e._v(" "),a("vs-dropdown",{staticClass:"ml-auto my-2 cursor-pointer",attrs:{"vs-custom-content":""}},[a("feather-icon",{attrs:{icon:"TagIcon",svgClasses:"h-5 w-5"},on:{click:function(e){e.preventDefault()}}}),e._v(" "),a("vs-dropdown-menu",{staticStyle:{"z-index":"200001"}},[e._l(e.calendarLabels,(function(t,n){return a("vs-dropdown-item",{key:n,on:{click:function(a){e.labelLocal=t.value}}},[a("div",{staticClass:"h-3 w-3 inline-block rounded-full mr-2",class:"bg-"+t.color}),e._v(" "),a("span",[e._v(e._s(t.text))])])})),e._v(" "),a("vs-dropdown-item",{on:{click:function(t){e.labelLocal="none"}}},[a("div",{staticClass:"h-3 w-3 mr-1 inline-block rounded-full mr-2 bg-primary"}),e._v(" "),a("span",[e._v("None")])])],2)],1)],1),e._v(" "),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"event-name","label-placeholder":"Event Title"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),e._v(" "),a("div",{staticClass:"my-4"},[a("small",{staticClass:"date-label"},[e._v("Start Date")]),e._v(" "),a("datepicker",{attrs:{language:e.$vs.rtl?e.langHe:e.langEn,disabledDates:e.disabledDatesFrom,name:"start-date"},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}})],1),e._v(" "),a("div",{staticClass:"my-4"},[a("small",{staticClass:"date-label"},[e._v("End Date")]),e._v(" "),a("datepicker",{attrs:{language:e.$vs.rtl?e.langHe:e.langEn,disabledDates:e.disabledDatesTo,name:"end-date"},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}})],1),e._v(" "),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"url",expression:"'url'"}],staticClass:"w-full mt-6",attrs:{name:"event-url","label-placeholder":"Event URL",color:e.errors.has("event-url")?"danger":"success"},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}})],1)],1)}),[],!1,null,null,null);t.default=h.exports},454:function(e,t,a){var n=a(819);"string"==typeof n&&(n=[[e.i,n,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};a(8)(n,l);n.locals&&(e.exports=n.locals)},818:function(e,t,a){"use strict";a(454)},819:function(e,t,a){(e.exports=a(7)(!1)).push([e.i,"[dir] #simple-calendar-app .theme-default.cv-wrapper{padding:20px}[dir] #simple-calendar-app .theme-default .cv-header-days{border-bottom:1px solid #ddd}#simple-calendar-app .theme-default .cv-header,#simple-calendar-app .theme-default .cv-header-day{font-weight:700}[dir] #simple-calendar-app .theme-default .cv-header,[dir] #simple-calendar-app .theme-default .cv-header-day{background-color:transparent}[dir] #simple-calendar-app .theme-default .cv-day.draghover{box-shadow:inset 0 0 .2em .2em rgba(var(--vs-primary),1)}[dir] #simple-calendar-app .theme-default .cv-day:not(.outsideOfMonth){background-color:transparent!important}[dir] #simple-calendar-app .theme-default .cv-day.outsideOfMonth{background-color:hsla(0,0%,94.5%,.4)}[dir] #simple-calendar-app .theme-default .cv-day .cv-day-number{padding:1rem}@media screen and (max-width:400px){[dir] #simple-calendar-app .theme-default .cv-day .cv-day-number{padding:0;margin:5px}}#simple-calendar-app .theme-default .cv-day.today .cv-day-number{display:inline-table;color:#fff;font-weight:600;min-width:2rem;min-height:2rem}[dir] #simple-calendar-app .theme-default .cv-day.today .cv-day-number{background-color:rgba(var(--vs-primary),1);border-radius:50%;padding:.43rem;margin:.4rem;text-align:center}@media screen and (max-width:400px){[dir] #simple-calendar-app .theme-default .cv-day.today .cv-day-number{margin:5px;padding:.3rem}}#simple-calendar-app .theme-default .cv-weeks .cv-week{min-height:20%}#simple-calendar-app .theme-default .cv-weeks .cv-week .cv-event{color:#fff;font-weight:500}[dir] #simple-calendar-app .theme-default .cv-weeks .cv-week .cv-event{border:none}[dir=ltr] #simple-calendar-app .theme-default .cv-weeks .cv-week .cv-event,[dir=rtl] #simple-calendar-app .theme-default .cv-weeks .cv-week .cv-event{padding-left:.5rem;padding-right:.5rem}[dir] #simple-calendar-app .theme-default .cv-weeks .cv-week .cv-event.event-primary{background:rgba(var(--vs-primary),1)!important}[dir] #simple-calendar-app .theme-default .cv-weeks .cv-week .cv-event.event-warning{background:rgba(var(--vs-warning),1)!important}[dir] #simple-calendar-app .theme-default .cv-weeks .cv-week .cv-event.event-success{background:rgba(var(--vs-success),1)!important}[dir] #simple-calendar-app .theme-default .cv-weeks .cv-week .cv-event.event-danger{background:rgba(var(--vs-danger),1)!important}#simple-calendar-app .theme-default .cv-weeks .cv-week .cv-event.continued:before,#simple-calendar-app .theme-default .cv-weeks .cv-week .cv-event.toBeContinued:after{color:#fff!important}[dir] #simple-calendar-app .theme-default .cv-weeks .cv-week .cv-event:hover{cursor:pointer}[dir] #simple-calendar-app .theme-default .cv-weeks .cv-week:first-of-type .cv-day{border-top:none}.theme-dark .calendar__label-container .con-vs-chip{color:#fff!important}[dir] .theme-dark #simple-calendar-app .theme-default .cv-day,[dir] .theme-dark #simple-calendar-app .theme-default .cv-event,[dir] .theme-dark #simple-calendar-app .theme-default .cv-header-day,[dir] .theme-dark #simple-calendar-app .theme-default .cv-header-days,[dir] .theme-dark #simple-calendar-app .theme-default .cv-week,[dir] .theme-dark #simple-calendar-app .theme-default .cv-weeks{border-color:#414561}.theme-dark #simple-calendar-app .theme-default .cv-header button{color:#c2c6dc}[dir] .theme-dark #simple-calendar-app .theme-default .cv-day.outsideOfMonth{background-color:#1a2140}",""])}}]);